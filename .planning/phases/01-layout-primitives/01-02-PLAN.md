---
phase: 01-layout-primitives
plan: 02
type: execute
---

<objective>
Create Flex and Grid components for explicit flexbox and CSS Grid layouts.

Purpose: While Box supports all flexbox/grid props, Flex and Grid provide semantic intent and constrained APIs that make layout code more readable.
Output: Flex.tsx, Grid.tsx exported from @tosui/react
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONVENTIONS.md
@packages/react/src/components/Box/Box.tsx
@packages/react/src/components/Box/flexbox/flexbox.ts
@packages/react/src/components/Box/grid/grid.ts
@packages/react/src/index.tsx

**Prior plan context:**
01-01 created Stack/HStack/VStack - similar wrapper pattern applies here.
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Flex component</name>
  <files>packages/react/src/components/Flex/Flex.tsx, packages/react/src/components/Flex/index.tsx</files>
  <action>
Create Flex component that wraps Box with display="flex":
- Explicitly expose flexbox props: direction (flexDirection), wrap (flexWrap), justify (justifyContent), align (alignItems), alignContent, gap, gapRow, gapColumn
- Also expose item props: basis (flexBasis), grow (flexGrow), shrink (flexShrink), alignSelf
- Default: display="flex" (always)
- Map shorthand prop names to Box props (direction -> flexDirection, wrap -> flexWrap, etc.)
- Support polymorphic `as` prop
- Export FlexProps type
- Spread ...rest onto Box for additional styling
- DO NOT add CSS module - pure prop mapping
  </action>
  <verify>
pnpm f:lib typecheck passes
File exists at packages/react/src/components/Flex/Flex.tsx
  </verify>
  <done>Flex component created with explicit flexbox prop exposure. Exports FlexProps type.</done>
</task>

<task type="auto">
  <name>Task 2: Create Grid component and export both</name>
  <files>packages/react/src/components/Grid/Grid.tsx, packages/react/src/components/Grid/index.tsx, packages/react/src/index.tsx</files>
  <action>
Create Grid component that wraps Box with display="grid":
- Expose grid props: columns (gridTemplateColumns), rows (gridTemplateRows), gap, gapRow (rowGap), gapColumn (columnGap)
- Expose alignment: justify (justifyItems), align (alignItems), justifyContent, alignContent
- Default: display="grid" (always)
- Support polymorphic `as` prop
- Export GridProps type
- Spread ...rest onto Box

Then export both from main index.tsx:
- Add: export { Flex, type FlexProps } from "./components/Flex"
- Add: export { Grid, type GridProps } from "./components/Grid"
  </action>
  <verify>
pnpm f:lib typecheck passes
pnpm f:lib build succeeds
  </verify>
  <done>Grid component created, both Flex and Grid exported from package entry point.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm f:lib typecheck` passes
- [ ] `pnpm f:lib build` succeeds without errors
- [ ] Flex, Grid exported from @tosui/react
- [ ] Flex always renders with display="flex"
- [ ] Grid always renders with display="grid"
- [ ] Both support `as` prop and Box prop passthrough
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Flex and Grid provide semantic layout intent with constrained APIs
</success_criteria>

<output>
After completion, create `.planning/phases/01-layout-primitives/01-02-SUMMARY.md`
</output>
