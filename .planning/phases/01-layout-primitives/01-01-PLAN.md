---
phase: 01-layout-primitives
plan: 01
type: execute
---

<objective>
Create Stack, HStack, and VStack components for flex-based layout composition.

Purpose: Stack components are the most commonly used layout primitives. They provide an ergonomic API for vertical/horizontal flex layouts with consistent gap spacing.
Output: Stack.tsx, HStack.tsx, VStack.tsx exported from @tosui/react
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/codebase/CONVENTIONS.md
@.planning/codebase/ARCHITECTURE.md
@packages/react/src/components/Box/Box.tsx
@packages/react/src/components/Button/Button.tsx
@packages/react/src/index.tsx

**Pattern to follow:**
- Stack wraps Box with `display="flex"`, constrained direction/gap/align/justify props
- HStack = Stack with direction="row" (default)
- VStack = Stack with direction="column" (default)
- All support polymorphic `as` prop via existing Polymorphic type
- Spread `...rest` onto Box for style overrides
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Stack component</name>
  <files>packages/react/src/components/Stack/Stack.tsx, packages/react/src/components/Stack/index.tsx</files>
  <action>
Create Stack component that wraps Box with:
- Props: direction (row | column | row-reverse | column-reverse), gap (number 0-32), align (alignItems values), justify (justifyContent values), wrap (boolean for flexWrap)
- Default: direction="column", no gap
- Map props to Box flexbox props (flexDirection, gap, alignItems, justifyContent, flexWrap)
- Support polymorphic `as` prop
- Export StackProps type
- Follow Button.tsx pattern: extract OwnProps, use Polymorphic<T, OwnProps>
- Spread ...rest onto Box so users can add any Box prop
- DO NOT add a CSS module - Stack is pure prop mapping to Box
  </action>
  <verify>
pnpm f:lib typecheck passes
File exists at packages/react/src/components/Stack/Stack.tsx
  </verify>
  <done>Stack component created with direction, gap, align, justify, wrap props. Exports StackProps type.</done>
</task>

<task type="auto">
  <name>Task 2: Create HStack component</name>
  <files>packages/react/src/components/HStack/HStack.tsx, packages/react/src/components/HStack/index.tsx</files>
  <action>
Create HStack as a convenience wrapper around Stack:
- Default direction="row"
- Accept all Stack props except direction
- Export HStackProps type (Omit direction from StackProps)
- Keep it simple: just re-exports Stack with direction preset
- Polymorphic support via Stack's as prop passthrough
  </action>
  <verify>
pnpm f:lib typecheck passes
File exists at packages/react/src/components/HStack/HStack.tsx
  </verify>
  <done>HStack component created as Stack with direction="row" default.</done>
</task>

<task type="auto">
  <name>Task 3: Create VStack component and export all</name>
  <files>packages/react/src/components/VStack/VStack.tsx, packages/react/src/components/VStack/index.tsx, packages/react/src/index.tsx</files>
  <action>
Create VStack as convenience wrapper:
- Default direction="column"
- Same pattern as HStack

Then export all three from main index.tsx:
- Add: export { Stack, type StackProps } from "./components/Stack"
- Add: export { HStack, type HStackProps } from "./components/HStack"
- Add: export { VStack, type VStackProps } from "./components/VStack"
  </action>
  <verify>
pnpm f:lib typecheck passes
pnpm f:lib build succeeds
  </verify>
  <done>VStack created, all three Stack components exported from package entry point.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm f:lib typecheck` passes
- [ ] `pnpm f:lib build` succeeds without errors
- [ ] Stack, HStack, VStack all exported from @tosui/react
- [ ] Each component supports `as` prop polymorphism
- [ ] Each component accepts and passes through Box props via rest spread
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Stack family components work with gap, direction, align, justify props
</success_criteria>

<output>
After completion, create `.planning/phases/01-layout-primitives/01-01-SUMMARY.md`
</output>
