---
phase: 05-data-display
plan: 03
type: execute
subsystem: ui
---

<objective>
Create Image component - enhanced img with loading/error states.

Purpose: Provide image wrapper with loading placeholder and error fallback.
Output: Image component with loading state, error fallback, and object-fit options.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Key files:**
@packages/react/src/components/Box/Box.tsx
@packages/react/src/components/Skeleton/Skeleton.tsx

**Established patterns:**
- Box wrapper with semantic props
- Skeleton for loading states
- CSS Modules for styling

**Constraining decisions:**
- Use Skeleton for loading state
- Simple fallback for errors
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Image component</name>
  <files>packages/react/src/components/Image/Image.tsx, packages/react/src/components/Image/image.module.css, packages/react/src/components/Image/index.tsx</files>
  <action>
Create Image as enhanced img:

1. Image.tsx:
   - Props: src, alt, w (width), h (height), objectFit (cover/contain/fill/none, default cover), fallbackSrc (optional), rounded (none/sm/md/lg/full, default none)
   - States: loading (show Skeleton), loaded (show image), error (show fallback or placeholder)
   - Use useState for isLoaded and hasError
   - Use native img onLoad and onError events
   - If fallbackSrc provided and error: try fallbackSrc
   - If no fallbackSrc and error: show simple placeholder box

2. image.module.css:
   - Image base styles
   - Object-fit variants
   - Error placeholder styling

3. index.tsx: Export component and types

Pattern: Enhanced image with graceful loading/error handling.
  </action>
  <verify>pnpm f:lib build succeeds</verify>
  <done>Image component created with loading skeleton, error fallback</done>
</task>

<task type="auto">
  <name>Task 2: Export Image from library</name>
  <files>packages/react/src/index.tsx</files>
  <action>
Add export for Image:
- export { Image, type ImageProps } from "./components/Image";
  </action>
  <verify>pnpm f:lib build succeeds, Image importable from @tosui/react</verify>
  <done>Image exported from @tosui/react</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm f:lib build` succeeds
- [ ] Image shows skeleton while loading
- [ ] Image displays when loaded
- [ ] Fallback works on error
- [ ] Object-fit variants work
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Image handles loading/error states gracefully
</success_criteria>

<output>
After completion, create `.planning/phases/05-data-display/05-03-SUMMARY.md`
</output>
