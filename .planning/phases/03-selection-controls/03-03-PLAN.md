---
phase: 03-selection-controls
plan: 03
type: execute
subsystem: ui
---

<objective>
Create Switch toggle component with sliding animation.

Purpose: Provide a toggle switch for boolean settings with visual feedback.
Output: Switch component exported from @tosui/react.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-phase.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-selection-controls/03-02-SUMMARY.md

**Key files:**
@packages/react/src/components/Checkbox/Checkbox.tsx

**Established patterns:**
- Toggle control: native input hidden, custom visual overlay
- isDisabled state prop
- Optional label prop for inline labeling
- Focus ring pattern: box-shadow with subtle color

**Constraining decisions:**
- Use native checkbox input for accessibility (role="switch" is problematic)
- Sliding animation using CSS transitions
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Switch component</name>
  <files>packages/react/src/components/Switch/Switch.tsx, packages/react/src/components/Switch/switch.module.css, packages/react/src/components/Switch/index.tsx</files>
  <action>
Create Switch component:
- Props: size (sm/md/lg), isDisabled, isChecked (controlled), defaultChecked (uncontrolled), label (optional string)
- Use native input[type="checkbox"] with aria-role="switch" for accessibility
- Hide native checkbox with opacity: 0, position: absolute
- Create custom track (pill shape) and thumb (circle) elements
- Size config:
  - sm: track 32x18px, thumb 14px
  - md: track 40x22px, thumb 18px
  - lg: track 48x26px, thumb 22px
- Track: border-muted background when off, primary-default when on
- Thumb: white circle that slides left/right with CSS transition
- When label provided, render as inline-flex with label text to the right
- Focus ring on track when input focused
- Create switch.module.css with transitions for track color and thumb position
- Transition: 150ms ease-in-out for smooth slide
- Create index.tsx barrel export
  </action>
  <verify>pnpm f:lib typecheck && pnpm f:lib build</verify>
  <done>Switch component created with sliding animation, size variants, state handling</done>
</task>

<task type="auto">
  <name>Task 2: Export Switch from library</name>
  <files>packages/react/src/index.tsx</files>
  <action>
Add Switch export to main library entry:
- Export Switch component
- Export SwitchProps type
  </action>
  <verify>pnpm f:lib build && grep -q "Switch" packages/react/dist/index.d.ts</verify>
  <done>Switch exported from @tosui/react, visible in TypeScript declarations</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `pnpm f:lib typecheck` passes
- [ ] `pnpm f:lib build` succeeds
- [ ] Switch thumb slides smoothly between off/on positions
- [ ] Track color transitions between states
- [ ] Focus ring visible when focused
- [ ] Disabled state reduces opacity
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Smooth slide animation on toggle
- All three sizes work correctly
</success_criteria>

<output>
After completion, create `.planning/phases/03-selection-controls/03-03-SUMMARY.md`
</output>
